
> @zeroedin/harvester@1.0.0 worker /mnt/s/workspace/ZeroedIn/apps/harvester
> tsx src/worker.ts

Starting ZeroedIn Harvester Workers...
---
Active Workers:
  - Scheduler (crawl jobs)
  - Fetcher (HTTP requests)
  - Extractor (content parsing)
  - Normalizer (data standardization)
  - Writer (database upserts)
  - Alerter (notification triggers)
---

Workers are running. Press Ctrl+C to stop.

[Scheduler] Processing crawl job for source cmi3lqu5g0001grz4zjvme7j6
prisma:query UPDATE "public"."executions" SET "status" = CAST($1::text AS "public"."ExecutionSprisma:query UPDATE "public"."executions" SET "status" = CAST($1::text AS "public"."ExecutionStatus") WHERE ("public"."executions"."id" = $2 AND 1=1) RETURNING "public"."executions"."id", "public"."executions"."sourceId", "public"."executions"."status"::text, "public"."executions"."startedAt", "public"."executions"."completedAt", "public"."executions"."duration", "public"."executioprisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query SELECT "public"."sources"."id", "public"."sources"."name", "public"."sources"."urprisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query SELECT "public"."sources"."id", "public"."sources"."name", "public"."sources"."url", "public"."sources"."type"::text, "public"."sources"."enabled", "public"."sources"."interval", "public"."sources"."lastRunAt", "public"."sources"."createdAt", "public"."sources"."updatedAt" FROM "public"."sources" WHERE ("public"."sources"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
[Fetcher] Fetching https://www.luckygunner.com/handgun/ammo
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."executioprisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","metadata","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6,$7) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
[Fetcher] Job 250 completed
[Fetcher] Fetching https://www.brownells.com/ammunition/index.htm
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","metadata","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6,$7) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
[Fetcher] Job 252 completed
 ELIFECYCLE  Command failed.
[Scheduler] Processing crawl job for source cmi3lqu5g0001grz4zjvme7j6
prisma:query UPDATE "public"."executions" SET "status" = CAST($1::text AS "public"."ExecutionStatus") WHERE ("public"."executions"."id" = $2 AND 1=1) RETURNING "public"."executions"."id", "public"."executions"."sourceId", "public"."executions"."status"::text, "public"."executions"."startedAt", "public"."executions"."completedAt", "public"."executions"."duration", "public"."executions"."itemsFound", "public"."executions"."itemsUpserted", "public"."executions"."errorMessage"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query SELECT "public"."sources"."id", "public"."sources"."name", "public"."sources"."url", "public"."sources"."type"::text, "public"."sources"."enabled", "public"."sources"."interval", "public"."sources"."lastRunAt", "public"."sources"."createdAt", "public"."sources"."updatedAt" FROM "public"."sources" WHERE ("public"."sources"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
[Scheduler] Job 245 completed
[Scheduler] Processing crawl job for source cmi3lqu5g0001grz4zjvme7j6
prisma:query UPDATE "public"."executions" SET "status" = CAST($1::text AS "public"."ExecutionStatus") WHERE ("public"."executions"."id" = $2 AND 1=1) RETURNING "public"."executions"."id", "public"."executions"."sourceId", "public"."executions"."status"::text, "public"."executions"."startedAt", "public"."executions"."completedAt", "public"."executions"."duration", "public"."executions"."itemsFound", "public"."executions"."itemsUpserted", "public"."executions"."errorMessage"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query SELECT "public"."sources"."id", "public"."sources"."name", "public"."sources"."url", "public"."sources"."type"::text, "public"."sources"."enabled", "public"."sources"."interval", "public"."sources"."lastRunAt", "public"."sources"."createdAt", "public"."sources"."updatedAt" FROM "public"."sources" WHERE ("public"."sources"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
[Scheduler] Job 248 completed
[Extractor] Extracting data for execution cmi6cai3p0003grrrdlpgfbfw
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","metadata","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6,$7) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query UPDATE "public"."executions" SET "itemsFound" = $1 WHERE ("public"."executions"."id" = $2 AND 1=1) RETURNING "public"."executions"."id", "public"."executions"."sourceId", "public"."executions"."status"::text, "public"."executions"."startedAt", "public"."executions"."completedAt", "public"."executions"."duration", "public"."executions"."itemsFound", "public"."executions"."itemsUpserted", "public"."executions"."errorMessage"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
[Normalizer] Normalizing 0 items
[Extractor] Job 202 completed
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query SELECT "public"."sources"."id", "public"."sources"."name", "public"."sources"."url", "public"."sources"."type"::text, "public"."sources"."enabled", "public"."sources"."interval", "public"."sources"."lastRunAt", "public"."sources"."createdAt", "public"."sources"."updatedAt" FROM "public"."sources" WHERE ("public"."sources"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","metadata","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6,$7) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
[Normalizer] Job 202 completed
[Normalizer] Normalizing 0 items
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query SELECT "public"."sources"."id", "public"."sources"."name", "public"."sources"."url", "public"."sources"."type"::text, "public"."sources"."enabled", "public"."sources"."interval", "public"."sources"."lastRunAt", "public"."sources"."createdAt", "public"."sources"."updatedAt" FROM "public"."sources" WHERE ("public"."sources"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","metadata","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6,$7) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
[Normalizer] Job 203 completed
[Writer] Writing 0 items to database
prisma:query SELECT 1
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query UPDATE "public"."executions" SET "status" = CAST($1::text AS "public"."ExecutionStatus"), "itemsUpserted" = $2, "completedAt" = $3, "duration" = $4 WHERE ("public"."executions"."id" = $5 AND 1=1) RETURNING "public"."executions"."id", "public"."executions"."sourceId", "public"."executions"."status"::text, "public"."executions"."startedAt", "public"."executions"."completedAt", "public"."executions"."duration", "public"."executions"."itemsFound", "public"."executions"."itemsUpserted", "public"."executions"."errorMessage"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","metadata","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6,$7) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","metadata","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6,$7) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
[Writer] Job 204 completed
S ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6,$7) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
prisma:query UPDATE "public"."executions" SET "itemsFound" = $1 WHERE ("public"."executions"."id" = $2 AND 1=1) RETURNING "public"."executions"."id", "public"."executions"."sourceId", "public"."executions"."status"::text, "public"."executions"."startedAt", "public"."executions"."completedAt", "public"."executions"."duration", "public"."executions"."itemsFound", "public"."executions"."itemsUpserted", "public"."executions"."errorMessage"
prisma:query INSERT INTO "public"."execution_logs" ("id","executionId","level","event","message","timestamp") VALUES ($1,$2,CAST($3::text AS "public"."LogLevel"),$4,$5,$6) RETURNING "public"."execution_logs"."id", "public"."execution_logs"."executionId", "public"."execution_logs"."level"::text, "public"."execution_logs"."event", "public"."execution_logs"."message", "public"."execution_logs"."metadata", "public"."execution_logs"."timestamp"
[Extractor] Job 203 completed
