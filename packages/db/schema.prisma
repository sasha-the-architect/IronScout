generator client {
  provider        = "prisma-client-js"
  output          = "./generated/prisma"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider   = "postgresql"
  extensions = [vector]
}

model User {
  id                String             @id @default(cuid())
  email             String             @unique
  name              String?
  image             String?
  password          String?
  emailVerified     DateTime?
  tier              UserTier           @default(FREE)
  createdAt         DateTime           @default(now())
  updatedAt         DateTime           @updatedAt
  accounts          Account[]
  sessions          Session[]
  alerts            Alert[]
  dataSubscriptions DataSubscription[]
  reports           ProductReport[]
  subscriptions     Subscription[]

  @@map("users")
}

model Product {
  id                    String                 @id @default(cuid())
  name                  String
  description           String?
  category              String
  brand                 String?
  imageUrl              String?
  upc                   String?                @unique
  caliber               String?
  grainWeight           Int?
  caseMaterial          String?
  purpose               String?
  roundCount            Int?
  metadata              Json?
  createdAt             DateTime               @default(now())
  updatedAt             DateTime               @updatedAt
  embedding             Unsupported("vector(1536)")?
  barrelLengthReference Decimal?               @db.Decimal(4, 2)
  bulletType            BulletType?
  controlledExpansion   Boolean?
  dataConfidence        Decimal?               @db.Decimal(3, 2)
  dataSource            DataSource?            @default(UNKNOWN)
  factoryNew            Boolean?               @default(true)
  isSubsonic            Boolean?
  lowFlash              Boolean?
  lowRecoil             Boolean?
  matchGrade            Boolean?
  muzzleVelocityFps     Int?
  pressureRating        PressureRating?        @default(STANDARD)
  shortBarrelOptimized  Boolean?
  suppressorSafe        Boolean?
  alerts                Alert[]
  canonicalSkus         CanonicalSku[]
  prices                Price[]
  reports               ProductReport[]

  @@index([caliber])
  @@index([bulletType])
  @@index([pressureRating])
  @@index([isSubsonic])
  @@index([purpose])
  @@map("products")
}

model Retailer {
  id            String         @id @default(cuid())
  name          String
  website       String         @unique
  logoUrl       String?
  tier          RetailerTier   @default(STANDARD)
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  dealer        Dealer?
  prices        Price[]
  subscriptions Subscription[]

  @@map("retailers")
}

model Price {
  id                  String          @id @default(cuid())
  productId           String
  retailerId          String
  price               Decimal         @db.Decimal(10, 2)
  currency            String          @default("USD")
  url                 String
  inStock             Boolean         @default(true)
  createdAt           DateTime        @default(now())
  freeShippingMinimum Decimal?        @db.Decimal(10, 2)
  shippingCost        Decimal?        @db.Decimal(10, 2)
  shippingNotes       String?
  product             Product         @relation(fields: [productId], references: [id], onDelete: Cascade)
  retailer            Retailer        @relation(fields: [retailerId], references: [id], onDelete: Cascade)
  reports             ProductReport[]

  @@index([productId])
  @@index([retailerId])
  @@index([inStock])
  @@map("prices")
}

model Alert {
  id            String    @id @default(cuid())
  userId        String
  productId     String
  targetPrice   Decimal?  @db.Decimal(10, 2)
  isActive      Boolean   @default(true)
  alertType     AlertType @default(PRICE_DROP)
  lastTriggered DateTime?
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  product       Product   @relation(fields: [productId], references: [id], onDelete: Cascade)
  user          User      @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("alerts")
}

model Advertisement {
  id          String   @id @default(cuid())
  title       String
  description String
  imageUrl    String?
  targetUrl   String
  adType      AdType   @default(DISPLAY)
  isActive    Boolean  @default(true)
  priority    Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("advertisements")
}

model ProductReport {
  id          String           @id @default(cuid())
  productId   String
  userId      String?
  priceId     String?
  issueType   ProductIssueType
  description String
  status      ReportStatus     @default(PENDING)
  reviewedBy  String?
  reviewNotes String?
  createdAt   DateTime         @default(now())
  updatedAt   DateTime         @updatedAt
  resolvedAt  DateTime?
  price       Price?           @relation(fields: [priceId], references: [id])
  product     Product          @relation(fields: [productId], references: [id], onDelete: Cascade)
  user        User?            @relation(fields: [userId], references: [id])

  @@map("product_reports")
}

model Source {
  id               String            @id @default(cuid())
  name             String
  url              String
  type             SourceType        @default(HTML)
  enabled          Boolean           @default(true)
  interval         Int               @default(3600)
  lastRunAt        DateTime?
  paginationConfig Json?
  affiliateNetwork AffiliateNetwork?
  feedHash         String?
  createdAt        DateTime          @default(now())
  updatedAt        DateTime          @updatedAt
  executions       Execution[]

  @@map("sources")
}

model Execution {
  id            String          @id @default(cuid())
  sourceId      String
  status        ExecutionStatus @default(PENDING)
  startedAt     DateTime        @default(now())
  completedAt   DateTime?
  duration      Int?
  itemsFound    Int             @default(0)
  itemsUpserted Int             @default(0)
  errorMessage  String?
  logs          ExecutionLog[]
  source        Source          @relation(fields: [sourceId], references: [id], onDelete: Cascade)

  @@map("executions")
}

model ExecutionLog {
  id          String    @id @default(cuid())
  executionId String
  level       LogLevel  @default(INFO)
  event       String
  message     String
  metadata    Json?
  timestamp   DateTime  @default(now())
  execution   Execution @relation(fields: [executionId], references: [id], onDelete: Cascade)

  @@index([executionId])
  @@index([level])
  @@index([event])
  @@map("execution_logs")
}

model Subscription {
  id         String             @id @default(cuid())
  userId     String?
  retailerId String?
  type       SubscriptionType
  status     SubscriptionStatus @default(ACTIVE)
  startDate  DateTime           @default(now())
  endDate    DateTime?
  amount     Decimal            @db.Decimal(10, 2)
  currency   String             @default("USD")
  stripeId   String?            @unique
  retailer   Retailer?          @relation(fields: [retailerId], references: [id], onDelete: Cascade)
  user       User?              @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("subscriptions")
}

model DataSubscription {
  id        String             @id @default(cuid())
  userId    String
  plan      DaaSPlan           @default(BASIC)
  status    SubscriptionStatus @default(ACTIVE)
  apiKey    String             @unique
  rateLimit Int                @default(1000)
  createdAt DateTime           @default(now())
  updatedAt DateTime           @updatedAt
  user      User               @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("data_subscriptions")
}

model MarketReport {
  id          String   @id @default(cuid())
  productId   String?
  category    String
  reportType  String
  data        Json
  generatedAt DateTime @default(now())

  @@map("market_reports")
}

model Dealer {
  id               String                  @id @default(cuid())
  businessName     String
  websiteUrl       String
  phone            String?
  storeType        StoreType               @default(ONLINE_ONLY)
  status           DealerStatus            @default(PENDING)
  tier             DealerTier              @default(FOUNDING)
  pixelApiKey      String?                 @unique
  pixelEnabled     Boolean                 @default(false)
  shippingType     ShippingType            @default(UNKNOWN)
  shippingFlat     Decimal?                @db.Decimal(10, 2)
  shippingPerUnit  Decimal?                @db.Decimal(10, 2)
  createdAt        DateTime                @default(now())
  updatedAt        DateTime                @updatedAt
  retailerId       String?                 @unique
  contactFirstName String
  contactLastName  String

  // Subscription fields
  subscriptionStatus       DealerSubscriptionStatus @default(ACTIVE)
  subscriptionExpiresAt    DateTime?                // null = no expiration (lifetime/founding)
  subscriptionGraceDays    Int                      @default(7) // Grace period after expiration
  lastSubscriptionNotifyAt DateTime?                // Rate limit: one notification per day

  clickEvents      ClickEvent[]
  contacts         DealerContact[]
  feeds            DealerFeed[]
  insights         DealerInsight[]
  invites          DealerInvite[]
  notificationPref DealerNotificationPref?
  skus             DealerSku[]
  users            DealerUser[]
  retailer         Retailer?               @relation(fields: [retailerId], references: [id])
  pixelEvents      PixelEvent[]

  @@map("dealers")
}

model DealerUser {
  id            String         @id @default(cuid())
  dealerId      String
  email         String
  passwordHash  String
  name          String
  role          DealerUserRole @default(MEMBER)
  emailVerified Boolean        @default(false)
  verifyToken   String?
  resetToken    String?
  resetTokenExp DateTime?
  lastLoginAt   DateTime?
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  invitesSent   DealerInvite[] @relation("InvitedBy")
  dealer        Dealer         @relation(fields: [dealerId], references: [id], onDelete: Cascade)

  @@unique([dealerId, email])
  @@index([email])
  @@index([dealerId])
  @@map("dealer_users")
}

model DealerInvite {
  id          String         @id @default(cuid())
  dealerId    String
  email       String
  role        DealerUserRole @default(MEMBER)
  inviteToken String         @unique
  invitedById String
  expiresAt   DateTime
  acceptedAt  DateTime?
  createdAt   DateTime       @default(now())
  dealer      Dealer         @relation(fields: [dealerId], references: [id], onDelete: Cascade)
  invitedBy   DealerUser     @relation("InvitedBy", fields: [invitedById], references: [id])

  @@unique([dealerId, email])
  @@index([inviteToken])
  @@index([dealerId])
  @@map("dealer_invites")
}

model DealerContact {
  id                 String              @id @default(cuid())
  dealerId           String
  firstName          String
  lastName           String
  email              String
  phone              String?
  marketingOptIn     Boolean             @default(false)
  communicationOptIn Boolean             @default(true)
  isAccountOwner     Boolean             @default(false)
  isActive           Boolean             @default(true)
  createdAt          DateTime            @default(now())
  updatedAt          DateTime            @updatedAt
  roles              DealerContactRole[] @default([])
  dealer             Dealer              @relation(fields: [dealerId], references: [id], onDelete: Cascade)

  @@unique([dealerId, email])
  @@index([dealerId])
  @@index([email])
  @@map("dealer_contacts")
}

model DealerFeed {
  id               String             @id @default(cuid())
  dealerId         String
  name             String?
  accessType       FeedAccessType     @default(URL)
  formatType       FeedFormatType     @default(GENERIC)
  url              String?
  username         String?
  password         String?
  scheduleMinutes  Int                @default(60)
  enabled          Boolean            @default(true)
  status           FeedStatus         @default(PENDING)
  feedHash         String?
  lastRunAt        DateTime?
  lastSuccessAt    DateTime?
  lastFailureAt    DateTime?
  lastError        String?
  primaryErrorCode String?
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  runs             DealerFeedRun[]
  testRuns         DealerFeedTestRun[]
  quarantined      QuarantinedRecord[]
  corrections      FeedCorrection[]
  dealer           Dealer             @relation(fields: [dealerId], references: [id], onDelete: Cascade)
  skus             DealerSku[]

  @@index([dealerId])
  @@index([enabled])
  @@map("dealer_feeds")
}

model DealerFeedRun {
  id               String        @id @default(cuid())
  dealerId         String
  feedId           String
  status           FeedRunStatus
  errors           Json?
  rowCount         Int           @default(0)
  indexedCount     Int           @default(0)
  quarantinedCount Int           @default(0)
  rejectedCount    Int           @default(0)
  coercionCount    Int           @default(0)
  matchedCount     Int           @default(0)
  primaryErrorCode String?
  errorCodes       Json?
  duration         Int?
  startedAt        DateTime      @default(now())
  completedAt      DateTime?
  feed             DealerFeed    @relation(fields: [feedId], references: [id], onDelete: Cascade)

  @@index([dealerId])
  @@index([feedId])
  @@index([startedAt])
  @@map("dealer_feed_runs")
}

model DealerFeedTestRun {
  id               String        @id @default(cuid())
  dealerId         String
  feedId           String
  sampleSize       Int           @default(50)
  status           TestRunStatus
  recordsParsed    Int           @default(0)
  wouldIndex       Int           @default(0)
  wouldQuarantine  Int           @default(0)
  wouldReject      Int           @default(0)
  warningCount     Int           @default(0)
  errorCount       Int           @default(0)
  primaryErrorCode String?
  errorSamples     Json?
  coercionSummary  Json?
  duration         Int?
  startedAt        DateTime      @default(now())
  completedAt      DateTime?
  feed             DealerFeed    @relation(fields: [feedId], references: [id], onDelete: Cascade)

  @@index([dealerId])
  @@index([feedId])
  @@index([startedAt])
  @@map("dealer_feed_test_runs")
}

model QuarantinedRecord {
  id             String           @id @default(cuid())
  dealerId       String
  feedId         String
  runId          String?
  productType    String?
  matchKey       String
  rawData        Json
  parsedFields   Json?
  blockingErrors Json
  status         QuarantineStatus @default(QUARANTINED)
  createdAt      DateTime         @default(now())
  updatedAt      DateTime         @updatedAt
  feed           DealerFeed       @relation(fields: [feedId], references: [id], onDelete: Cascade)
  corrections    FeedCorrection[]

  @@unique([feedId, matchKey])
  @@index([dealerId])
  @@index([feedId, status])
  @@index([status])
  @@map("quarantined_records")
}

model FeedCorrection {
  id                  String             @id @default(cuid())
  dealerId            String
  feedId              String
  quarantinedRecordId String?
  recordRef           String
  field               String
  oldValue            String?
  newValue            String
  createdBy           String
  createdAt           DateTime           @default(now())
  feed                DealerFeed         @relation(fields: [feedId], references: [id], onDelete: Cascade)
  quarantinedRecord   QuarantinedRecord? @relation(fields: [quarantinedRecordId], references: [id], onDelete: SetNull)

  @@index([dealerId])
  @@index([feedId, recordRef])
  @@index([quarantinedRecordId])
  @@map("feed_corrections")
}

model DealerSku {
  id                String            @id @default(cuid())
  dealerId          String
  feedId            String?
  feedRunId         String?
  productType       String?
  rawTitle          String
  rawDescription    String?
  rawPrice          Decimal           @db.Decimal(10, 2)
  rawUpc            String?
  rawSku            String?
  rawCaliber        String?
  rawGrain          String?
  rawCase           String?
  rawBulletType     String?
  rawBrand          String?
  rawPackSize       Int?
  rawInStock        Boolean           @default(true)
  rawUrl            String?
  rawImageUrl       String?
  canonicalSkuId    String?
  mappingConfidence MappingConfidence @default(NONE)
  needsReview       Boolean           @default(false)
  mappedAt          DateTime?
  mappedBy          String?
  parsedCaliber     String?
  parsedGrain       Int?
  parsedPackSize    Int?
  parsedBulletType  String?
  parsedBrand       String?
  parseConfidence   Decimal?          @db.Decimal(3, 2)
  dealerSkuHash     String?
  coercionsApplied  Json?
  isActive          Boolean           @default(true)
  missingCount      Int               @default(0)
  lastSeenAt        DateTime?
  createdAt         DateTime          @default(now())
  updatedAt         DateTime          @updatedAt
  insights          DealerInsight[]
  canonicalSku      CanonicalSku?     @relation(fields: [canonicalSkuId], references: [id])
  dealer            Dealer            @relation(fields: [dealerId], references: [id], onDelete: Cascade)
  feed              DealerFeed?       @relation(fields: [feedId], references: [id])

  @@unique([dealerId, dealerSkuHash])
  @@index([dealerId])
  @@index([feedId])
  @@index([canonicalSkuId])
  @@index([needsReview])
  @@index([isActive])
  @@map("dealer_skus")
}

model CanonicalSku {
  id         String            @id @default(cuid())
  upc        String?           @unique
  caliber    String
  grain      Int
  caseType   String?
  bulletType String?
  brand      String
  packSize   Int
  name       String
  imageUrl   String?
  createdAt  DateTime          @default(now())
  updatedAt  DateTime          @updatedAt
  productId  String?
  benchmark  Benchmark?
  product    Product?          @relation(fields: [productId], references: [id])
  dealerSkus DealerSku[]
  snapshots  PricingSnapshot[]

  @@index([upc])
  @@index([caliber, grain, brand, packSize])
  @@map("canonical_skus")
}

model PricingSnapshot {
  id             String       @id @default(cuid())
  canonicalSkuId String
  dealerId       String
  price          Decimal      @db.Decimal(10, 2)
  pricePerRound  Decimal?     @db.Decimal(10, 4)
  packSize       Int
  inStock        Boolean      @default(true)
  createdAt      DateTime     @default(now())
  canonicalSku   CanonicalSku @relation(fields: [canonicalSkuId], references: [id], onDelete: Cascade)

  @@index([canonicalSkuId])
  @@index([dealerId])
  @@index([createdAt])
  @@map("pricing_snapshots")
}

model Benchmark {
  id             String              @id @default(cuid())
  canonicalSkuId String              @unique
  medianPrice    Decimal             @db.Decimal(10, 2)
  minPrice       Decimal             @db.Decimal(10, 2)
  maxPrice       Decimal             @db.Decimal(10, 2)
  avgPrice       Decimal?            @db.Decimal(10, 2)
  sellerCount    Int
  source         BenchmarkSource
  confidence     BenchmarkConfidence
  dataPoints     Int                 @default(0)
  createdAt      DateTime            @default(now())
  updatedAt      DateTime            @updatedAt
  canonicalSku   CanonicalSku        @relation(fields: [canonicalSkuId], references: [id], onDelete: Cascade)

  @@map("benchmarks")
}

model DealerInsight {
  id             String            @id @default(cuid())
  dealerId       String
  dealerSkuId    String?
  canonicalSkuId String?
  type           InsightType
  confidence     InsightConfidence
  title          String
  message        String
  dealerPrice    Decimal?          @db.Decimal(10, 2)
  marketMedian   Decimal?          @db.Decimal(10, 2)
  marketMin      Decimal?          @db.Decimal(10, 2)
  marketMax      Decimal?          @db.Decimal(10, 2)
  sellerCount    Int?
  priceDelta     Decimal?          @db.Decimal(10, 2)
  deltaPercent   Decimal?          @db.Decimal(5, 2)
  metadata       Json?
  isActive       Boolean           @default(true)
  dismissedAt    DateTime?
  dismissedUntil DateTime?
  createdAt      DateTime          @default(now())
  updatedAt      DateTime          @updatedAt
  dealer         Dealer            @relation(fields: [dealerId], references: [id], onDelete: Cascade)
  dealerSku      DealerSku?        @relation(fields: [dealerSkuId], references: [id])

  @@index([dealerId])
  @@index([type])
  @@index([isActive])
  @@map("dealer_insights")
}

model PixelEvent {
  id            String    @id @default(cuid())
  dealerId      String
  orderId       String
  orderValue    Decimal   @db.Decimal(10, 2)
  orderCurrency String    @default("USD")
  skuList       Json?
  clickEventId  String?
  attributedAt  DateTime?
  userAgent     String?
  ipHash        String?
  referrer      String?
  createdAt     DateTime  @default(now())
  dealer        Dealer    @relation(fields: [dealerId], references: [id], onDelete: Cascade)

  @@index([dealerId])
  @@index([orderId])
  @@index([createdAt])
  @@map("pixel_events")
}

model ClickEvent {
  id             String   @id @default(cuid())
  dealerId       String
  dealerSkuId    String?
  canonicalSkuId String?
  sessionId      String?
  userAgent      String?
  ipHash         String?
  referrer       String?
  createdAt      DateTime @default(now())
  dealer         Dealer   @relation(fields: [dealerId], references: [id], onDelete: Cascade)

  @@index([dealerId])
  @@index([dealerSkuId])
  @@index([sessionId])
  @@index([createdAt])
  @@map("click_events")
}

model DealerNotificationPref {
  id                 String   @id @default(cuid())
  dealerId           String   @unique
  fatalFeedErrors    Boolean  @default(true)
  nonFatalFeedIssues Boolean  @default(false)
  successfulUpdates  Boolean  @default(false)
  weeklyPulse        Boolean  @default(true)
  insightAlerts      Boolean  @default(true)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
  dealer             Dealer   @relation(fields: [dealerId], references: [id], onDelete: Cascade)

  @@map("dealer_notification_prefs")
}

model AdminAuditLog {
  id          String   @id @default(cuid())
  adminUserId String
  dealerId    String?
  action      String
  resource    String?
  resourceId  String?
  oldValue    Json?
  newValue    Json?
  ipAddress   String?
  userAgent   String?
  createdAt   DateTime @default(now())

  @@index([adminUserId])
  @@index([dealerId])
  @@index([action])
  @@index([createdAt])
  @@map("admin_audit_logs")
}

model Account {
  id                String  @id @default(cuid())
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String?
  access_token      String?
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String?
  session_state     String?
  user              User    @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
}

model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique
  userId       String
  expires      DateTime
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model VerificationToken {
  identifier String
  token      String   @unique
  expires    DateTime

  @@unique([identifier, token])
}

enum UserTier {
  FREE
  PREMIUM
}

enum RetailerTier {
  STANDARD
  PREMIUM
}

enum AlertType {
  PRICE_DROP
  BACK_IN_STOCK
  NEW_PRODUCT
}

enum AdType {
  DISPLAY
  SPONSORED_PRODUCT
  BANNER
}

enum SubscriptionType {
  USER_PREMIUM
  RETAILER_PREMIUM
}

enum SubscriptionStatus {
  ACTIVE
  CANCELLED
  EXPIRED
}

enum ExecutionStatus {
  PENDING
  RUNNING
  SUCCESS
  FAILED
}

enum LogLevel {
  INFO
  WARN
  ERROR
}

enum SourceType {
  HTML
  JS_RENDERED
  RSS
  JSON
  FEED_CSV
  FEED_XML
  FEED_JSON
}

enum AffiliateNetwork {
  IMPACT
  AVANTLINK
  SHAREASALE
  CJ
  RAKUTEN
}

enum ProductIssueType {
  INCORRECT_PRICE
  OUT_OF_STOCK
  INCORRECT_INFO
  BROKEN_LINK
  WRONG_PRODUCT
  SPAM
  OTHER
}

enum ReportStatus {
  PENDING
  UNDER_REVIEW
  RESOLVED
  DISMISSED
}

enum DaaSPlan {
  BASIC
  PROFESSIONAL
  ENTERPRISE
}

enum BulletType {
  JHP
  HP
  BJHP
  XTP
  HST
  GDHP
  VMAX
  FMJ
  TMJ
  CMJ
  MC
  BALL
  SP
  JSP
  PSP
  RN
  FPRN
  FRANGIBLE
  AP
  TRACER
  BLANK
  WADCUTTER
  SWC
  LSWC
  BUCKSHOT
  BIRDSHOT
  SLUG
  OTHER
}

enum PressureRating {
  STANDARD
  PLUS_P
  PLUS_P_PLUS
  NATO
  UNKNOWN
}

enum DataSource {
  MANUFACTURER
  RETAILER_FEED
  PARSED
  MANUAL
  AI_INFERRED
  UNKNOWN
}

enum DealerStatus {
  PENDING
  ACTIVE
  SUSPENDED
}

enum DealerTier {
  FOUNDING
  BASIC
  PRO
  ENTERPRISE
}

enum DealerSubscriptionStatus {
  ACTIVE           // Subscription is active and valid
  EXPIRED          // Subscription has expired (within grace period)
  SUSPENDED        // Subscription suspended (past grace period or payment failed)
  CANCELLED        // Subscription cancelled by dealer
}

enum DealerUserRole {
  OWNER
  ADMIN
  MEMBER
  VIEWER
}

enum DealerContactRole {
  PRIMARY
  BILLING
  TECHNICAL
  MARKETING
  OTHER
}

enum StoreType {
  ONLINE_ONLY
  RETAIL_AND_ONLINE
}

enum ShippingType {
  FLAT
  PER_UNIT
  CALCULATED
  FREE
  UNKNOWN
}

enum FeedAccessType {
  URL
  AUTH_URL
  FTP
  SFTP
  UPLOAD
}

enum FeedFormatType {
  GENERIC
  AMMOSEEK_V1
  GUNENGINE_V2
}

enum QuarantineStatus {
  QUARANTINED
  RESOLVED
  DISMISSED
}

enum TestRunStatus {
  PASS
  WARN
  FAIL
}

enum FeedStatus {
  PENDING
  HEALTHY
  WARNING
  FAILED
}

enum FeedRunStatus {
  PENDING
  RUNNING
  SUCCESS
  WARNING
  FAILURE
  SKIPPED   // Feed run skipped (e.g., subscription expired)
}

enum MappingConfidence {
  HIGH
  MEDIUM
  LOW
  NONE
}

enum BenchmarkSource {
  INTERNAL
  EXTERNAL
  MIXED
}

enum BenchmarkConfidence {
  HIGH
  MEDIUM
  NONE
}

enum InsightType {
  OVERPRICED
  UNDERPRICED
  STOCK_OPPORTUNITY
  ATTRIBUTE_GAP
}

enum InsightConfidence {
  HIGH
  MEDIUM
}
