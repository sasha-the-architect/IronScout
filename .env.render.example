# Render.com Environment Variables Configuration
# Copy these to your Render service settings before deploying

# ============================================================================
# API SERVICE (ironscout-api)
# ============================================================================

# Automatically set by Render from render.yaml:
# - NODE_ENV=production
# - PORT=8000
# - DATABASE_URL (from PostgreSQL service)
# - FRONTEND_URL (from web service)

# Manually set in Render dashboard:
REDIS_HOST=red-xxxxx.ohio-redis.render.com         # From manually created Redis instance
REDIS_PORT=6379                                    # From manually created Redis instance
STRIPE_SECRET_KEY=sk_test_51...                    # Get from https://dashboard.stripe.com/apikeys
STRIPE_WEBHOOK_SECRET=whsec_...                    # Get from https://dashboard.stripe.com/webhooks
RESEND_API_KEY=re_...                              # Get from https://resend.com/api-keys
FROM_EMAIL=alerts@yourdomain.com                   # Your verified Resend sender
SLACK_DATAFEED_ALERTS_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url  # Slack webhook for datafeed alerts

# ============================================================================
# WEB SERVICE (ironscout-web)
# ============================================================================

# Automatically set by Render from render.yaml:
# - NODE_ENV=production
# - NEXT_PUBLIC_API_URL (from API service)
# - NEXTAUTH_URL (from this service)
# - NEXTAUTH_SECRET (auto-generated by Render)
# - AUTH_TRUST_HOST=true (required for NextAuth behind proxy)
# - DATABASE_URL (from PostgreSQL service)

# Manually set in Render dashboard:
GOOGLE_CLIENT_ID=...apps.googleusercontent.com     # Get from https://console.cloud.google.com
GOOGLE_CLIENT_SECRET=GOCSPX-...                    # Get from https://console.cloud.google.com
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...    # Get from https://dashboard.stripe.com/apikeys

# Optional (for other OAuth providers):
FACEBOOK_CLIENT_ID=...                             # If enabling Facebook login
FACEBOOK_CLIENT_SECRET=...                         # If enabling Facebook login
TWITTER_CLIENT_ID=...                              # If enabling Twitter login
TWITTER_CLIENT_SECRET=...                          # If enabling Twitter login
GITHUB_CLIENT_ID=...                               # If enabling GitHub login
GITHUB_CLIENT_SECRET=...                           # If enabling GitHub login

# ============================================================================
# HARVESTER WORKER (ironscout-harvester)
# ============================================================================

# Automatically set by Render from render.yaml:
# - NODE_ENV=production
# - DATABASE_URL (from PostgreSQL service)

# Manually set in Render dashboard:
REDIS_HOST=red-xxxxx.ohio-redis.render.com         # From manually created Redis instance
REDIS_PORT=6379                                    # From manually created Redis instance
ANTHROPIC_API_KEY=sk-ant-api03-...                 # Get from https://console.anthropic.com
RESEND_API_KEY=re_...                              # Get from https://resend.com/api-keys
FROM_EMAIL=alerts@yourdomain.com                   # Your verified Resend sender
SLACK_DATAFEED_ALERTS_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url  # Slack webhook for datafeed alerts

# ============================================================================
# OBTAINING API KEYS - STEP BY STEP
# ============================================================================

# 1. STRIPE (Required for payments)
#    - Sign up at https://stripe.com
#    - Go to Developers → API keys
#    - Copy "Secret key" → use as STRIPE_SECRET_KEY
#    - Copy "Publishable key" → use as NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
#    - Go to Developers → Webhooks
#    - Create webhook endpoint: https://your-api.onrender.com/api/payments/webhook
#    - Select events: checkout.session.completed, customer.subscription.*
#    - Copy "Signing secret" → use as STRIPE_WEBHOOK_SECRET

# 2. RESEND (Required for emails)
#    - Sign up at https://resend.com
#    - Verify your domain or use resend.dev for testing
#    - Go to API Keys section
#    - Create new API key
#    - Copy API key → use as RESEND_API_KEY
#    - Use verified sender email → use as FROM_EMAIL

# 3. GOOGLE OAUTH (Required for social login)
#    - Go to https://console.cloud.google.com
#    - Create new project or select existing
#    - Enable Google+ API
#    - Go to Credentials → Create Credentials → OAuth 2.0 Client
#    - Application type: Web application
#    - Authorized redirect URIs:
#      - http://localhost:3000/api/auth/callback/google (for development)
#      - https://your-app.onrender.com/api/auth/callback/google (for production)
#    - Copy "Client ID" → use as GOOGLE_CLIENT_ID
#    - Copy "Client Secret" → use as GOOGLE_CLIENT_SECRET

# 4. ANTHROPIC (Required for AI extraction)
#    - Sign up at https://console.anthropic.com
#    - Go to API Keys
#    - Create new API key
#    - Copy API key → use as ANTHROPIC_API_KEY
#    - Recommended model: claude-3-5-sonnet-20240620

# ============================================================================
# SETTING ENVIRONMENT VARIABLES IN RENDER
# ============================================================================

# Method 1: Via Dashboard (Recommended)
# 1. Go to https://dashboard.render.com
# 2. Select your service (e.g., ironscout-api)
# 3. Go to "Environment" tab
# 4. Click "Add Environment Variable"
# 5. Enter Key and Value
# 6. Click "Save Changes"
# 7. Service will automatically redeploy

# Method 2: Via render.yaml (For non-secrets)
# Add to service definition:
# envVars:
#   - key: MY_VAR
#     value: my_value

# Method 3: Via Render CLI
# render env set MY_VAR=my_value --service=ironscout-api

# ============================================================================
# SECURITY NOTES
# ============================================================================

# - NEVER commit this file with real values to Git
# - Use test/development keys for non-production environments
# - Rotate API keys regularly (every 90 days recommended)
# - Use different keys for development/staging/production
# - Enable 2FA on all external service accounts
# - Monitor API usage and set up billing alerts
# - Use Stripe test mode keys (sk_test_*) until ready for production
